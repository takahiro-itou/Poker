# Poker 確率計算

- ポーカーハンドの成立する確率を計算する

##  用語

###   テキサス・ホールデム

- ポーカーのルールの一種
- 各プレーヤーに配られる二枚のカードと、
場に配られる全プレーヤーに共通のカード（コミュニティ・カードと言う、最大五枚）
の中から五枚を選び役（ポーカーハンド）を作り競う。

####   フロップ

- 各プレーヤーに二枚のカードを配る
- 場に三枚のカードを表向きに配る
    - これを、コミュニティ・カードといい、全プレーヤーで共有。
- この状態を「フロップ」と呼ぶ。
- この時点で、手札と場札の五枚でハンドができる場合を計算する。

####  ターン

- フロップの後、ディーラーはさらに１枚のコミュニティ・カードを場に公開する。
- この状態を「ターン」と呼ぶ。
- 手札と場札の六枚から五枚を選びハンドを作る。
- 選び方によって異なるハンドができる場合は高い方を選択する。

####  リバー

- ターンのあと、ディーラーは最後のコミュニティ・カードを場に公開する。
- この状態を「リバー」と呼ぶ。
- 手札と場札の七枚から五枚を選びハンドを作る。
- 選び方によって異なるハンドができる場合は最も高いハンドを採用する。

####  ショーダウン

- プレーヤーの手札二枚と場にでたコミュニティカードの中から、
最も強い五枚の組み合わせを用いて、ハンドの強さを競う。
- 手札二枚は、両方使っても、片方だけ使っても、全く使わなくても構わないとする。

##  アルゴリズム

###   カードの組み合わせの処理

- カード 52 枚には 0～51 の連番を振っておく。
- カードを配る処理は 0～51 の中から r 個の数字を選ぶ組み合わせとして扱う。
    - この処理は generator/ ディレクトリのモジュールが担当する。

###   最高ハンドの判定

- 仮の最高ハンド max_hand を最も弱いハンドに設定する。
- 配られた r 枚の中から 5 枚を選ぶ組み合わせすべて (この処理は generator/ が再び使える) に対して、
    - その 5 枚でできるハンド h を考える。
    - そのハンドが　max_hand より強ければ max_hand を h で上書きする。
